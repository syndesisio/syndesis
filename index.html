<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Syndesis Developer Handbook</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Syndesis Developer Handbook</h1>
<div class="details">
<span id="revnumber">version 1.1.3-5677-g82dac7222,</span>
<span id="revdate">2018-03-02</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Syndesis Developer Handbook</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#syndesis">2. Buildtool "syndesis"</a>
<ul class="sectlevel2">
<li><a href="#syndesis-build">2.1. syndesis build</a>
<ul class="sectlevel3">
<li><a href="#syndesis-build-usage">2.1.1. Usage</a></li>
<li><a href="#syndesis-build-modules">2.1.2. Modules</a></li>
<li><a href="#syndesis-build-tuning">2.1.3. Tuning</a></li>
<li><a href="#syndesis-build-image">2.1.4. Images</a></li>
</ul>
</li>
<li><a href="#syndesis-ui">2.2. syndesis ui</a></li>
<li><a href="#syndesis-minishift">2.3. syndesis minishift</a>
<ul class="sectlevel3">
<li><a href="#syndesis-minishift-usage">2.3.1. Usage</a></li>
<li><a href="#_installing_syndesis">2.3.2. Installing Syndesis</a></li>
<li><a href="#_resetting_minishift">2.3.3. Resetting Minishift</a></li>
<li><a href="#_example">2.3.4. Example</a></li>
</ul>
</li>
<li><a href="#syndesis-system-test">2.4. syndesis system-test</a>
<ul class="sectlevel3">
<li><a href="#syndesis-system-test-usage">2.4.1. Usage</a></li>
<li><a href="#_how_it_works">2.4.2. How it works</a></li>
</ul>
</li>
<li><a href="#syndesis-dev">2.5. syndesis dev</a>
<ul class="sectlevel3">
<li><a href="#syndesis-dev-usage">2.5.1. Usage</a></li>
</ul>
</li>
<li><a href="#syndesis-doc">2.6. syndesis doc</a>
<ul class="sectlevel3">
<li><a href="#syndesis-doc-usage">2.6.1. Usage</a></li>
<li><a href="#syndesis-doc-output">2.6.2. Output</a></li>
</ul>
</li>
<li><a href="#syndesis-release">2.7. syndesis release</a>
<ul class="sectlevel3">
<li><a href="#syndesis-release-usage">2.7.1. Usage</a></li>
<li><a href="#dev-release-preparations">2.7.2. Preparations</a></li>
<li><a href="#dev-release-steps">2.7.3. Release steps</a></li>
<li><a href="#_minor_version_templates">2.7.4. Minor Version Templates</a></li>
<li><a href="#_fuse_online_templates">2.7.5. Fuse Online Templates</a></li>
<li><a href="#dev-release-troubleshooting">2.7.6. Troubleshooting</a></li>
</ul>
</li>
<li><a href="#syndesis-install">2.8. syndesis install</a>
<ul class="sectlevel3">
<li><a href="#syndesis-install-usage">2.8.1. Usage</a></li>
<li><a href="#_development_mode">2.8.2. Development mode</a></li>
<li><a href="#_selecting_the_version">2.8.3. Selecting the version</a></li>
<li><a href="#_example_2">2.8.4. Example</a></li>
<li><a href="#_quick_installation">2.8.5. Quick installation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#development">3. Syndesis Development</a>
<ul class="sectlevel2">
<li><a href="#dev-groups">3.1. Maven Groups</a>
<ul class="sectlevel3">
<li><a href="#_naming_conventions">3.1.1. Naming Conventions</a></li>
</ul>
</li>
<li><a href="#dev-labels">3.2. Issue Labels</a>
<ul class="sectlevel3">
<li><a href="#_groups">3.2.1. Groups</a></li>
<li><a href="#_categories">3.2.2. Categories</a></li>
<li><a href="#_notification">3.2.3. Notification</a></li>
<li><a href="#_external_references">3.2.4. External references</a></li>
<li><a href="#_daily_meeting_labels">3.2.5. Daily Meeting Labels</a></li>
<li><a href="#_status">3.2.6. Status</a></li>
</ul>
</li>
<li><a href="#dev-local">3.3. Local Development</a>
<ul class="sectlevel3">
<li><a href="#_requirements">3.3.1. Requirements</a></li>
<li><a href="#_first_time_setup">3.3.2. First-Time Setup</a></li>
<li><a href="#_day_to_day">3.3.3. Day-to-Day</a></li>
</ul>
</li>
<li><a href="#dev-ui">3.4. UI</a>
<ul class="sectlevel3">
<li><a href="#_install_dependencies">3.4.1. Install Dependencies</a></li>
<li><a href="#_start_up_the_app">3.4.2. Start up the App</a></li>
<li><a href="#_open_in_your_browser">3.4.3. Open in Your Browser</a></li>
<li><a href="#_running_tests">3.4.4. Running Tests</a></li>
<li><a href="#_running_linter">3.4.5. Running Linter</a></li>
<li><a href="#_code_documentation">3.4.6. Code Documentation</a></li>
<li><a href="#_technology_stack">3.4.7. Technology Stack</a></li>
</ul>
</li>
<li><a href="#dev-troubleshooting">3.5. Troubleshooting</a>
<ul class="sectlevel3">
<li><a href="#_ui_dependency_issues">3.5.1. UI Dependency Issues</a></li>
<li><a href="#_vm_trouble">3.5.2. VM Trouble</a></li>
<li><a href="#_still_having_trouble">3.5.3. Still Having Trouble?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This handbook contain all information required for installing, running and developing Syndesis from a developer&#8217;s point of view.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syndesis">2. Buildtool "syndesis"</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Syndesis uses a single tool for controlling various aspects of the build and developer related tasks.
This script can be found in <code>$SYNDESIS_DIR/tools/bin</code> and is called <code>syndesis</code>.
It requires bash and can be used on any Unix or macOS.</p>
</div>
<div class="paragraph">
<p>To have this script handy all the time it is recommended to either put this <code>bin/</code> directory into the path or add a symlink from <code>syndesis</code> into a directory which is already on your execution path.</p>
</div>
<div class="paragraph">
<p>The script can be used for various tasks which are selected by a so-called command_ which is the first argument to the script.</p>
</div>
<div class="paragraph">
<p>Just type <code>syndesis -h</code> to get an overview of the commands available:</p>
</div>
<div class="listingblock">
<div class="title">Usage message</div>
<div class="content">
<pre class="CodeRay highlight"><code>Syndesis Developer Tool

Usage: syndesis &lt;command&gt; [... options ...]

with the following commands

   build            Build Syndesis
   dev              Developer tools
   doc              Generate Syndesis Developer Handbook (SDH)
   minishift        Initialize and manage a Minishift developer environment
   system-test      Run system tests

"build" is the default command if no command is specified.</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are a handful of global options which can be used:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15.7894%;">
<col style="width: 5.2631%;">
<col style="width: 78.9475%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--help</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Print usage information. If a command is given print out commands specific options</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--rebase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rebase your project directory before building to integrate upstream changes to your local repository. See <a href="#syndesis-rebase">below</a> for details how this works.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--verbose</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set verbose mode, which is useful mostly only for debugging the script itself.</p></td>
</tr>
</tbody>
</table>
<div id="syndesis-rebase" class="paragraph">
<div class="title">Rebase to upstream</div>
<p>To easily rebase on changes which have been merged upstream to master, you can use the option <code>--rebase</code> (short: <code>-r</code>).
This command assumes that you have forked the Syndesis GitHub repositories and you have "origin" and "upstream" remotes like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ git remote -v
origin    git@github.com:rhuss/syndesis.git (fetch)
origin    git@github.com:rhuss/syndesis.git (push)
upstream  https://github.com/syndesisio/syndesis (fetch)
upstream  https://github.com/syndesisio/syndesis (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this in place, a <code>--rebase</code> performs the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Refresh upstream remote: <code>git fetch upstream master</code></p>
</li>
<li>
<p>Try a <code>git rebase upstream/master</code> which rebases your current local working branch.</p>
</li>
<li>
<p>If this fails because you have uncommitted work:</p>
<div class="ulist">
<ul>
<li>
<p>A <code>git stash</code> is performed</p>
</li>
<li>
<p>The rebase is retried and should succeed</p>
</li>
<li>
<p><code>git stash pop</code> brings back your changes. Stashing can fail with conflicts which you would have to resolve on your own.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="syndesis-dev-modes" class="paragraph">
<div class="title">Development Modes</div>
<p>The Syndesis application consists of a set of Docker images OpenShift resources descriptors for installing Syndesis.
For development, <a href="https://www.openshift.org/minishift/">minishift</a> is used, and most of the commands assume that you have minishift installed locally and executable directly from your path.
Minishift can be downloaded and installed from <a href="https://github.com/minishift/minishift/releases" class="bare">https://github.com/minishift/minishift/releases</a></p>
</div>
<div class="paragraph">
<p>You can choose from two different modes how Docker images are installed and updated:</p>
</div>
<div class="paragraph">
<div class="title">Docker mode</div>
<p>The Docker mode avoids OpenShift specific image stream and uses plain Docker image references in the deployment descriptors.
Without an extra Docker registry push, this only works smoothly on single node OpenShift installation like with Minishift or <code>oc cluster up</code>.
For Minishift, the Docker daemon exposed with <code>minishift docker-env</code> is used.
The advantage of this mode is that building is a bit faster and you avoid the overhead of image streams.
On the other side, you have to kill pods when images are updated so that the new images are picked up.</p>
</div>
<div class="paragraph">
<div class="title">OpenShift mode</div>
<p>The OpenShift mode uses OpenShift S2I builds and image streams.
This mode works also when running with a real OpenShift cluster and is not restricted to Minishift usage.
Another advantage is that a build automatically triggers a redeployment, so you don&#8217;t have to kill any pods manually (or with this script).
On the con side is a slightly slower build.</p>
</div>
<div class="paragraph">
<p>Both modes are currently supported, but the OpenShift mode is recommended.</p>
</div>
<div id="syndesis-commands" class="paragraph">
<div class="title">Commands</div>
<p>All other options are specific to each command.
You get a list of those options with <code>syndesis &lt;cmd&gt; -h</code>.
These options are described in detail in the next sections.</p>
</div>
<div class="paragraph">
<p>The following commands are available:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-build"><strong>build</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used for building Syndesis and its various modules.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-ui"><strong>ui</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the UI for local development <em>(not implemented yet)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-minishift"><strong>minishift</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start and install Syndesis on Minishift</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-install"><strong>install</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Install Syndesis in a running cluster (other than Minishift)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-system-test"><strong>system-test</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run System test against an OpenShift cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-dev"><strong>dev</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utility commands useful during development</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-doc"><strong>doc</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generating and publish this documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#syndesis-doc"><strong>release</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Release Syndesis' Maven and NPM artefacts <em>(not implemented yet)</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If no command is given, <code>build</code> is the default.
Remember a command must be the first argument, but there are additional possibilities to specify commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can use the form <code>--command</code> anywhere as an option, too. E.g. using  <code>--minishift</code> is the same as specifying "minishift" as the first argument.</p>
</li>
<li>
<p>A <code>--mode command</code> can be used, too (e.g. <code>--mode sytem-test</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The next sections describe the commands in detail.
To add a new command, just drop a script file into <code>$SYNDESIS_DIR/tools/bin/commands</code> directory with following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">#!/bin/bash

yourscriptname::description() {
    echo &quot;Describe the command&quot;
}

yourscriptname::usage() {
    cat &lt;&lt;EOT
    Describe the usage of the command
EOT
}

yourscriptname::run() {
    Do your stuff
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-build">2.1. syndesis build</h3>
<div class="paragraph">
<p>The primary goal of <code>syndesis</code> is to build Syndesis.
It is mainly a wrapper around Maven but adds some convenience for common developer workflows.</p>
</div>
<div class="sect3">
<h4 id="syndesis-build-usage">2.1.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Usage: syndesis build [... options ...]

Options for build:
-b  --backend                 Build only backend modules (core, extension, integration, connectors, rest, verifier)
    --images                  Build only modules with Docker images (ui, rest, verifier, s2i)
-m  --module &lt;m1&gt;,&lt;m2&gt;, ..    Build modules
                              Modules: ui, rest, connectors, s2i, verifier, integration, extension, core
-d  --dependencies            Build also all project the specified module depends on
    --init                    Install top-level parent pom, too. Only needed when used with -m
    --skip-tests              Skip unit and system test execution
    --skip-checks             Disable all checks
-f  --flash                   Skip checks and tests execution (fastest mode)
-i  --image-mode  &lt;mode&gt;      &lt;mode&gt; can be
                              - "none"      : No images are build (default)
                              - "openshift" : Build for OpenShift image streams
                              - "docker"    : Build against a plain Docker daemon
                              - "auto"      : Automatically detect whether to
                                              use "openshift" or "docker"
    --docker                  == --image-mode docker
    --openshift               == --image-mode openshift
-p  --project &lt;project&gt;       Specifies the project to create images in when using '--images s2i'
-k  --kill-pods               Kill pods after the image has been created.
                              Useful when building with image-mode docker
-c  --clean                   Run clean builds (mvn clean)
    --batch-mode              Run mvn in batch mode</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="syndesis-build-modules">2.1.2. Modules</h4>
<div class="paragraph">
<p>A plain <code>build</code> command without any options performs a plain <code>mvn install</code> for all modules.
This compiles all Java and Javascript artefacts and also runs all tests and code checks.</p>
</div>
<div class="paragraph">
<p>You also can compile only specific modules by using the <code>--module</code> (short: <code>-m</code>) option with a comma-separated list of modules.</p>
</div>
<div class="paragraph">
<p>The following modules are available:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Main backend providing a REST API for the user interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ui</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The SPA user interface application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>verifier</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verifier used for verifying connections and providing connector metadata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connectors</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All connectors used by Syndesis out of the box</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>integration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Support libraries for running integrations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>extension</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tools for developing and running Syndesis custom extensions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>core</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Core module containing common code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>s2i</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S2I base image used for building the runtime images</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also, to specify each module individually, you can also use some module groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--backend</code> (short: <code>-b</code>) for the modules <code>rest</code>, <code>integration</code>, <code>verifier</code>, <code>connectors</code>, <code>extension</code>, <code>core</code></p>
</li>
<li>
<p><code>--images</code> build all modules which result in Docker images, and also builds the Docker images in addition to the Maven artefacts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the option <code>--dependencies</code> (short: <code>-d</code>) is given in addition to <code>--modules</code>, also all modules which the specified modules depend on are build, too.</p>
</div>
</div>
<div class="sect3">
<h4 id="syndesis-build-tuning">2.1.3. Tuning</h4>
<div class="paragraph">
<p>By default, all checks like license or code quality checks are performed.
Also, all unit and local integration tests are run.
A full build eats up quite some time, but you should always run at full blast before submitting a pull request.</p>
</div>
<div class="paragraph">
<p>However, to speed up the turnaround, several speed-up options are available.
The following table shows these options, and also how long a full clean build over all modules takes: (but without building images)</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;">
<col style="width: 75%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Time</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default mode with all checks and tests</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--skip-tests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skip all unit and local integration tests</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--skip-checks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skip sanity checks like for correct license headers and</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--flash</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fastest mode with skipping all checks and tests and with even some other aggressive optimizations</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="syndesis-build-image">2.1.4. Images</h4>
<div class="paragraph">
<p>As described in <a href="#syndesis-dev-modes">Development Modes</a> there are two ways how Syndesis Docker images can be created and deployed.</p>
</div>
<div class="paragraph">
<p>You can decide which mode to use with the option <code>--image-mode</code> (short: <code>-i</code>) and the following options are available:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Shortcut</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i auto</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auto-select the mode based whether you are connected to OpenShift (e.g via Minishift) or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i docker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--docker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable Docker build mode. Access to a Docker daemon is required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i openshift</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--openshift</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use OpenShift S2I for building the images. An active login to OpenShift is a precondition for this. You can use <code>--project</code> (<code>-p</code>) for specifying the target namespace where to create the image. By default, it is created in the current namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i s2i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--s2i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shortcut for <code>--openshift</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i none</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Don&#8217;t build Docker images even when implicitly enabled (e.g. when using <code>--images</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Specifying the mode also enables building the Docker images which otherwise would not be built.</p>
</div>
<div class="paragraph">
<p>If the direct Docker mode is used it, you have to restart the Pods, so the newly created images are picked up.
For this you can use <code>--kill-pods</code> (short: <code>-k</code>) which will kill the corresponding pod after the image has been created.
This only works when you are connected to an OpenShift cluster (like for minishift)</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code># Build all image with openshift mode
syndesis --images --openshift

# Build to the minishift Docker daemon
eval $(minishift docker-env)
syndesis -i docker -k

# Or:
# syndesis --image-mode docker

# Or:
# syndesis --docker</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-ui">2.2. syndesis ui</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">"syndesis ui" is not implemented yet</div>
<div class="paragraph">
<p>This is just a placeholder, still in the planning phased.
Nevertheless we already start to document the feature for an "UX first" approach.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-minishift">2.3. syndesis minishift</h3>
<div class="paragraph">
<p>With <code>syndesis minishift</code> you can adequately manage a <a href="https://www.openshift.org/minishift/">minishift</a> installation for hosting Syndesis.
This command is especially useful for a simple and self-contained development workflow.</p>
</div>
<div class="paragraph">
<p><code>syndesis minishift</code> requires that you have a current minishift in your path.
You can download it directly from <a href="https://github.com/minishift/minishift/releases">GitHub</a>.</p>
</div>
<div class="sect3">
<h4 id="syndesis-minishift-usage">2.3.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Usage: syndesis minishift [... options ...]

Options for minishift:
    --install                 Install templates to a running Minishift.
-p  --project                 Install into this project. Delete this project if
    --reset                   Reset the minishift installation by
                              'minishift delete &amp;&amp; minishift start'.
    --full-reset              Full reset by
                              'minishift stop &amp;&amp; rm -rf ~/.minishift &amp;&amp; minishift start'
    --memory &lt;mem&gt;            How much memory to use when doing a reset. Default: 4GB
    --cpus &lt;nr cpus&gt;          How many CPUs to use when doing a reset. Default: 2
    --disk-size &lt;size&gt;        How many disk space to use when doing a reset. Default: 20GB
    --show-logs               Show minishift logs during startup
    --vm-driver &lt;driver&gt;      Which virtual machine driver to use (depends on OS)
    --openshift-version &lt;ver&gt; Set OpenShift version to use when reseting (default: v3.6.0)
                              already existing for --install.
                              Default project: "syndesis"
-i  --image-mode &lt;mode&gt;       Which templates to install: "docker" for plain images,
                              "openshift" for image streams (default: "openshift")
-o  --open                    Open Syndesis in the browser</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_installing_syndesis">2.3.2. Installing Syndesis</h4>
<div class="paragraph">
<p>You can easily install Syndesis with the option <code>--install</code>.
This option triggers the creation of all relevant OpenShift resources objects in the currently connected OpenShift project.</p>
</div>
<div class="paragraph">
<p>If you want to use a different project, then use <code>--project</code> (short: <code>-p</code>) to specify this project.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Any existing project will be deleted first when specified with <code>--project</code>. This option is also an easy and quick way to recreate a Syndesis installation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As explained in <a href="#syndesis-dev-modes">Development Modes</a> there are two workflows for developing Syndesis:
Either with plain Docker images and killing pods (<code>--image-mode docker</code>) or with OpenShift S2I builds and image streams (<code>--image-mode openshift</code>).
You have to specify the mode already when installing Syndesis as this choice also determines the OpenShift templates to use.
By default the <code>openshift</code> mode is selected, so you have to specify <code>--image-mode docker</code> only when using the plain Docker image mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="_resetting_minishift">2.3.3. Resetting Minishift</h4>
<div class="paragraph">
<p>The quickest way to get a fresh Syndesis setup is to use <code>--project</code> which will install Syndesis into a clean, new project.</p>
</div>
<div class="paragraph">
<p>However, you can also recreate the whole Minishift installation with <code>--reset</code>. This will delete the Minishift VM (<code>minishift delete</code>) and create a new one (<code>minishift start</code>).
It doesn&#8217;t harm if the Minishift VM does not exist so that you can use <code>--reset</code> also on a fresh Minishift installation.</p>
</div>
<div class="paragraph">
<p>If you want to get a real clean installation use <code>--full-reset</code> which deletes the <code>~/.minishift</code> directory which holds downloaded artefacts like the ISO image for the Minishift VM.
Using <code>--full-reset</code> forces Minishift to re-download all those files.</p>
</div>
<div class="paragraph">
<p>There are several options which influence the re-creation of the VM:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 29.4117%;">
<col style="width: 58.8235%;">
<col style="width: 11.7648%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory to use for the Minishift VM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--cpus</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of CPUs used for the Minishift VM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--disk-size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disk space used for Minishift.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--show-logs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to show OpenShift logs during startup.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--vm-driver</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Which virtual machine driver to use. For OS X this can be 'virtualbox', 'xhyve' or 'vmwarefusion' (if insalled).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--openshift-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift version to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.7.1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example">2.3.4. Example</h4>
<div class="paragraph">
<p>This short example performs the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Stops and deletes a running Minishift VM (if existent)</p>
</li>
<li>
<p>Removes <code>~/.minishift</code> (if existent)</p>
</li>
<li>
<p>Install Syndesis in OpenShift modes (S2I builds &amp; image streams) in project <code>syndesis</code></p>
</li>
<li>
<p>Open Syndesis UI in the default browser</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code># Complete fresh installation in project "syndesis"
syndesis minishift --full-reset --install --project syndesis

# Open Syndesis in default browser
syndesis minishift -o</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-system-test">2.4. syndesis system-test</h3>
<div class="paragraph">
<p>The <code>system-test</code> command is for running a full blown system test of Syndesis by installing it in one of multiple projects which are managed in a pool.</p>
</div>
<div class="sect3">
<h4 id="syndesis-system-test-usage">2.4.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Usage: syndesis system-test [... options ...]

Options for system-test:
    --project &lt;project&gt;       The test project to use
    --token &lt;token&gt;           Token for connecting to the server
    --server &lt;url&gt;            OpenShift server url to use for the tests.
                              If not given, use the currently connected server
    --pool &lt;project&gt;          If no project is given, use a pooling mechanism.
                              This pool has to be created before with --create-pool
    --test-id &lt;id&gt;            Id to identify the test run
    --create-pool &lt;prefix&gt;    Create project pool for system-tests with
                              all projects with the given prefix
    --list-pool               Show all locks for the pool
    --release-project &lt;t-id&gt;  Release project for given test id (or all if no test id is given)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_how_it_works">2.4.2. How it works</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This section needs a more detailed explanation how the systems tests are working in detail.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-dev">2.5. syndesis dev</h3>
<div class="paragraph">
<p>Dev commands are useful helpers for developing Syndesis</p>
</div>
<div class="sect3">
<h4 id="syndesis-dev-usage">2.5.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Usage: syndesis dev [... options ...]

Options for dev:
    --debug &lt;name&gt;            Setup a port forwarding to &lt;name&gt; pod (default: rest)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command enable port-forwarding of port 5005 from a specific pod (by default: "rest") to port 5005 on the localhost.
You then can point your Java IDE to port 5005 on localhost for connecting for remote debugging.
As argument to <code>--debug</code> "rest", "verifier" and "atlasmap" can be used, which are our Java based services.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-doc">2.6. syndesis doc</h3>
<div class="paragraph">
<p>This command is used to generated and manage this documentation which you are currently reading.</p>
</div>
<div class="sect3">
<h4 id="syndesis-doc-usage">2.6.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Usage: syndesis doc [... options ...]

Options for doc:
-d  --directory &lt;dir&gt;         Top-level dir holding doc source and output directory. Default: "doc/sdh"
-i  --input &lt;file&gt;            Input file to use. Default: "index.adoc"
    --out &lt;dir&gt;               Directory to generate files (default: "output")
    --html                    Generate HTML pages
    --pdf &lt;out&gt;               Generate PDF and write it to &lt;out&gt; (default: "sdh.pdf")
    --epub &lt;out&gt;              Generate Epub and write it to &lt;out&gt; (default: "sdh.epub")
    --gh-pages &lt;msg&gt;          Create everything into the gh-pages branch and commit with &lt;msg&gt;
-o  --open                    Open HTML documentation in default browser after doc generation
-l  --local                   Use locally installed commands instead of Docker image</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>syndesis doc</code> uses by default a Docker container to create the documentation.
Therefore a Docker daemon must be accessible, and it must allow <a href="https://docs.docker.com/engine/admin/volumes/bind-mounts/">bind volume mounts</a> to the local <code>doc/sdh</code> directory.
Bind mounts are possible for Linux Docker daemons and for "Docker for Mac".
But it is not the case for the Minishift exposed Docker daemon, as this daemon is running isolated in a VM.</p>
</div>
<div class="paragraph">
<p>You can always run <code>asciidoctor</code> locally with the <code>--local</code> (short: <code>-l</code>) options. See the <a href="https://asciidoctor.org/#installation">Asciidoctor manual</a> for more information how to install Asciidoctor.</p>
</div>
</div>
<div class="sect3">
<h4 id="syndesis-doc-output">2.6.2. Output</h4>
<div class="paragraph">
<p>Input and output has the same defaults but can be changed with the following options</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 13.6363%;">
<col style="width: 68.1819%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--input &lt;file&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i &lt;file&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input document in Asciidoc format which is by default <code>$SYNDESIS_DIR/doc/sdh/index.adoc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--output &lt;dir&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-o &lt;dir&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output directory, default is <code>$SYNDESIS_DIR/doc/sdh/output</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By default <code>syndesis doc</code> creates the documentation in HTML format, but more formats are supported:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--html</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create HTML documentation in the output directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--pdf &lt;name&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create PDF documentation. <code>&lt;name&gt;</code> is optional, but when given, then this specifies the file name generated in the output directory. By default <code>sdh.pdf</code> is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--epub &lt;name&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create the documentation in Epub format. <code>&lt;name&gt;</code> is optional, but when given, then this specifies the file name generated in the output directory. By default <code>sdh.epub</code> is used.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-release">2.7. syndesis release</h3>
<div class="paragraph">
<p>Use <code>syndesis release</code> for performing a release of Syndesis.
A Syndesis release consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven artefacts of the backend and runtime services</p>
</li>
<li>
<p>Docker images pushed to Docker Hub</p>
</li>
<li>
<p>A set of OpenShift templates referencing these images</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This chapter describes how you can efficiently perform a release and
how to troubleshoot if something goes wrong.
This documentation might also be interesting to you even when you do not perform a release on your own, as it might help you to understand how the various Syndesis artefacts fit together.</p>
</div>
<div class="sect3">
<h4 id="syndesis-release-usage">2.7.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Perform a release

This command performs a release but does <strong>no</strong> automated rollback when something fails.
Please refer to the manual at https://docs.syndesis.io for more details and what needs
to be cleaned up in case of a failure.

Usage: syndesis release [... options ...]

Options for release:
-n  --dry-run                 Dry run, which performs the whole build but does no tagging,
                              artefact upload or pushing Docker images
    --release-version &lt;ver&gt;   Version to release (e.g. "1.2.1"). This is a mandatory argument.
    --dev-version &lt;version&gt;   Next development version. If not given, set to
                              "&lt;major&gt;.&lt;minor&gt;-SNAPSHOT" as calculated from
                              --release-version (e.g. "1.2-SNAPSHOT")
    --settings &lt;file&gt;         Path to a custom settings.xml to use for the release.
                              This file must contain all the credentials to be used for Sonatype.
                              By default ~/.m2/settings.xml is used.
    --local-maven-repo &lt;dir&gt;  Local dir for holding the local Maven repo cache.
                              If not given, then a new
                              temporary directory will be used
                              (and removed after the release)
    --docker-user &lt;user&gt;      Docker user for Docker Hub
    --docker-password &lt;pwd&gt;   Docker password for Docker Hub
    --product-templates       Create templates for the productised version only and tag
    --no-git-push             Don't push the release tag (and symbolic major.minor tag)
    --log &lt;log-file&gt;          Write full log to &lt;log-file&gt;, only print progress to screen
    --man                     Open HTML documentation in the Syndesis Developer Handbook</code></pre>
</div>
</div>
<div class="paragraph">
<p>A lot of output is produced during a release.
If you are only interested to see the major steps only, then you
can use <code>--log</code> to redirect the output to a specific log file.
This log file will contain all output (and if you add <code>--verbose</code> you see even more output), but on the console you will only see the current step that is actually performed.</p>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>An example run for a dry run for <code>1.3.1</code> release on the current branch look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./tools/bin/syndesis release           \ <i class="conum" data-value="1"></i><b>(1)</b>
    --release-version 1.3.1            \ <i class="conum" data-value="2"></i><b>(2)</b>
    --local-maven-repo /tmp/clean-repo \ <i class="conum" data-value="3"></i><b>(3)</b>
    --log /tmp/build.log               \ <i class="conum" data-value="4"></i><b>(4)</b>
    --dry-run                            <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always run <code>syndesis</code> from the repo and branch you want to release.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The release version is mandatory and must be in the format <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use a clean local Maven repository to avoid side effects</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Redirect the full output to <code>/tmp/build.log</code> but still print the main steps to the console.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Make only a dry run, without pushing any artefacts out nor checking in any changed files.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="dev-release-preparations">2.7.2. Preparations</h4>
<div class="paragraph">
<p>To perform a release, certain preconditions need to be given.</p>
</div>
<div class="paragraph">
<p>First of all, you need to have access to the various systems to which release artefacts are uploaded:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You need to be logged in to <a href="https://hub.docker.com/">Docker Hub</a> and your account needs to have write access to the <a href="https://hub.docker.com/u/syndesis/">syndesis</a> Docker Hub organisation.</p>
</li>
<li>
<p>You have <code>gpg</code> to have installed and set up a gpg-agent for being able to sign Maven artefacts during deployment in a non-interactive mode.</p>
</li>
<li>
<p>You need to have access to the "syndesis" account on (<a href="http://oss.sonatype.org/)">oss.sonatype.org</a> for being able to publish Maven artefacts.
This credential needs to be added to either your <code>~/.m2/settings.xml</code> or you can use an settings file with the <code>--settings-xml</code> option.
The credential needs to be added to the server with the id <code>oss-sonatype-staging</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You have to perform the release from a locally checked out Syndesis repository, which can be either checkout from a branch like <code>1.2.x</code> for a patch release or directly from <code>master</code>.
It is highly recommended to run the release directly from a freshly checked out directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># Go to a temporary directory
cd /tmp

# Clone repository afresh, but only use the last history entry (--depth=1)
git clone --depth=1 https://github.com/syndesisio/syndesis.git

# Jump into the directory
cd syndesis

# Switch to the target branch if needed (or stay on master)
git fetch --depth 1 origin 1.2.x:1.2.x
git checkout 1.2.x

# Call Syndesis from the checked out clone
./tools/bin/syndesis release --release-version 1.2.8 .....

# Push to origin after a successful release.
# This automatically done if --no-git-push is given
git push 1.2.8
git push -f 1.2

# Remove the temporary clone again
cd ..
rm -rf syndesis</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please note that you should always call <code>syndesis</code> out of the branch for which the release is for.
If there is an issue due to bugs in the release script itself, please fix them on the branch with the usual developer process (i.e. opening a PR request).
<code>syndesis release</code> must always work for the branch where this script is, too.</p>
</div>
</div>
<div class="sect3">
<h4 id="dev-release-steps">2.7.3. Release steps</h4>
<div class="paragraph">
<p>A release consist of several different steps, which can be grouped into two groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Build steps</strong> are performed to build the release and create the artefacts.
Also during the build Maven artefacts are uploaded to the staging area for publishing to Maven central</p>
</li>
<li>
<p><strong>Persist steps</strong> are then used for releasing objects, pushing Docker images to Docker Hub, committing and tagging in Git (but only when the build steps have been performed successfully).</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_build_steps">Build steps</h5>
<div class="ulist">
<ul>
<li>
<p>Check whether the current local Git clone is <em>clean</em>, i.e. that is does not have any modified files.
The script will abort if this is the case.</p>
</li>
<li>
<p>Update the versions of all <code>pom.xml</code> files below <code>app/</code> to the version given with <code>--release-version</code>.
If no <code>--release-version</code> is given, then the script aborts.</p>
</li>
<li>
<p>Run an <code>mvn clean install</code> to verify that the build is not broken and all tests succeed.</p>
</li>
<li>
<p>Re-generate the OpenShift templates in <code>app/deploy</code> so that the image streams included in these templates refer to Docker images with the new version.</p>
</li>
<li>
<p>Now run an <code>mvn -Prelease clean deploy</code> to deploy all artefacts to a new staging repository on oss.sonatype.org, the platform for release artefacts on Maven central.
The staging repository on this Sonatype Nexus is validated and closed.</p>
</li>
<li>
<p>If <code>--docker-user</code> and <code>--docker-password</code> is given, then a <code>docker login</code> is performed.
Otherwise, it is assumed that the user is already logged in.</p>
</li>
<li>
<p>The Docker images are created with <code>mvn -Prelease,image package</code> in the <code>rest</code>, <code>verifier</code>, <code>ui</code> and <code>s2i</code> modules.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the option <code>--dry-run</code> (short: <code>-n</code>) is provided, the script drops the staging repository at Sonatype and stops.
You should examine the generated files and before starting a real build, reset the repository (<code>git reset --hard</code>).</p>
</div>
<div class="paragraph">
<p>The builds are using a clean local Maven repository, which otherwise is usually taken from <code>~/.m2/repository</code>.
This new local cache should ensure that we have a completely fresh build without interference from previous builds store in the local Maven cache in the home directory.
You can provide such a directory with <code>--local-maven-repo</code> which will be taken directly (so it&#8217;s good if you have to perform multiple runs like with <code>--dry-run</code>).
If not provided, a new temporary directory is created and also <em>deleted</em> after the release run.</p>
</div>
</div>
<div class="sect4">
<h5 id="_persist_steps">Persist steps</h5>
<div class="ulist">
<ul>
<li>
<p>Push Docker images to Docker Hub.
In addition to the images that carry the full release version as the tag, also a tag for the <em>minor version</em> is attached and pushed.
E.g. when the release version is <code>1.2.8</code>, then the minor version is <code>1.2</code>.
If this minor version tag already exists on Docker Hub, its moved to the newly created version.</p>
</li>
<li>
<p>The staging repository on Sonatype is released.
It will take a bit, but the artefact should then be downloadable from <a href="https://search.maven.org/">Maven central</a> soon after.</p>
</li>
<li>
<p>Commit all modified local files to the local Git repo.</p>
</li>
<li>
<p>Create a Git tag for the release version (e.g. <code>git tag 1.2.8</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The next steps are for creating templates for the minor version:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In <code>app/deploy</code> create new templates which contain image streams that reference images with the minor version (e.g. <code>syndesis/syndesis-rest:1.2</code> for a release version of 1.2.8).</p>
</li>
<li>
<p>Commit those generated templates</p>
</li>
<li>
<p>Tag it with the minor version (e.g. <code>1.2</code>), overwriting an already existing minor version tag</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, we are switching back to the next development version of the pom.xml files.
This version can be given with <code>--dev-version</code>, but by default, it is calculated automatically as <code>&lt;minor.version&gt;-SNAPSHOT</code> (e.g. <code>1.2-SNAPSHOT</code>).
This new version is then committed to the local git repository.</p>
</div>
<div class="paragraph">
<p>Finally, the tags just created on the local Git repo is pushed to the remote repository.
You can omit this with the option <code>--no-git-push</code>.
If to so, the last step can also be performed manually afterwards with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">git push 1.2.8
git push -f 1.2 <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Using <code>-f</code> as the minor tag needs to be moved.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Please be careful to <strong>not</strong> push the master branch upstream (i.e. do <strong>not</strong> a plain <code>git push</code>).
We only want to have the tag with all the release preparation steps, not on the branch so that pull requests can be still be easily rebased with out conflict because of the temporary version changes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_minor_version_templates">2.7.4. Minor Version Templates</h4>
<div class="paragraph">
<p>What is now the thing with this <em>minor version</em>?
Why is the needed and how does it work?</p>
</div>
<div class="paragraph">
<p>Syndesis follows a <a href="https://semver.org/">semantic versioning</a> approach.
So, patch level releases (i.e. all releases which only change the last digit in 1.2.8) are fully compatible with all other patch level versions.
In order to allow easy bug fix upgrades, we also create a tag which contains only the version parts up to the minor version (e.g. 1.2).
These tags <strong>always</strong> points to the latest full version of its minor version.
If, e.g. 1.2.8 is the latest 1.2.x version, then the tag 1.2 point to this 1.2.8 version.
Corresponding to these Docker image variants, there exist two OpenShift templates variants:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One set of templates directly references the Docker images which its full version, e.g. <code>syndesis/syndesis-ui:1.2.8</code>.
Applying such a template will keep your application at precisely this patch-level.
You would have to update your templates and recreate your applications if you want to upgrade.</p>
</li>
<li>
<p>The other set of templates references images only via its minor version, e.g. <code>syndesis/syndesis-ui:1.2</code>.
Using these templates has the advantage that application created from these templates automatically benefit from patch releases.
The templates contain an image change trigger which will redeploy the application if the images change.
So when we release the next patch level release, moving the minor version tag to this patch level release, then the application gets automatically redeployed, and it will pick up the new image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These two sets of templates can be reached directly from GitHub as the git tags correspond to the Docker tags (i.e. a <code>1.2.8</code> tag and a <code>1.2</code> tag which will be moved forward).</p>
</div>
</div>
<div class="sect3">
<h4 id="_fuse_online_templates">2.7.5. Fuse Online Templates</h4>
<div class="paragraph">
<p>The templates checked in and tagged with <em>regular</em> tags in pure numeric form (e.g. <code>1.2.8</code>) are always referencing upstream images that are available at Docker Hub.</p>
</div>
<div class="paragraph">
<p>For a different setup to referencing different images (i.e. the images that are produced by the Red Hat productisation process), yet another set of templates can be generated.</p>
</div>
<div class="paragraph">
<p>For this the option <code>--product-templates</code> can be used, which generates templates <em>without image stream definitions</em>, but referencing supposedly already existing image streams.</p>
</div>
<div class="paragraph">
<p>These templates are created with a tag <code>fuse-ingite-&lt;minor&gt;</code> (e.g. <code>fuse-ignite-1.2</code>) in the Git repository and so directly accessed from GitHub.</p>
</div>
<div class="paragraph">
<p>The product template support is currently very specific to the Fuse Ignite Cluster, which is used for the Technical Preview phase of Fuse Ignite.</p>
</div>
<div class="paragraph">
<p>So it is likely that it might change in the future.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An extra step is required to import productised Syndesis Docker images into the Fuse Ignite cluster. This step should be documented here, and probably added to the release script.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="dev-release-troubleshooting">2.7.6. Troubleshooting</h4>
<div class="paragraph">
<p>When you run the <code>syndesis release</code> command and when it should not succeed, you might have to perform some cleanup steps yourself
(there is now automatic rollback).
However, care has been taken to move all persistent changes to the end of the release flow, so if something breaks early, you only need to clean up locally.
If the process fails before the step <em>=== Pushing Docker images</em> you only need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reset your local git repo with <code>git reset --hard</code></p>
</li>
<li>
<p>Potentially remove the create staging repository on <code><a href="http://oss.sonatype.org/" class="bare">http://oss.sonatype.org/</a></code> (but it doesn&#8217;t harm if it is not cleaned up immediately).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After pushing the Docker images, it should be improbable that things go wrong.
But these things should take care of if this should be the case:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove Docker Hub tags for the pushed images, which is best done on the Docker Hub Web UI</p>
</li>
<li>
<p>Revert your local git commits to the point before the release. If you did this on a fresh checked out repo (as recommended), you just could delete the whole clone.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syndesis-install">2.8. syndesis install</h3>
<div class="paragraph">
<p>With <code>syndesis install</code> you can install Syndesis to an arbitrary OpenShift cluster.
If you want to install to <a href="https://www.openshift.org/minishift/">Minishift</a> the <a href="#syndesis-minishift">syndesis minishift</a> command is recommended as it supports some additional features specific to Minishift.</p>
</div>
<div class="sect3">
<h4 id="syndesis-install-usage">2.8.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-p  --project                 Install into this project. Delete this project
                              if it already exists. By default, install into the current project
                              (without recreating)
-y  --yes                     Automatically answer with "yes" when
                              asked for deleting the project with -p
    --route                   Route to use (mandatory host name)
    --tag &lt;tag&gt;               Syndesis version/tag to install. If not given, then the latest
                              version from master is installed
    --dev                     Prepare for development of Syndesis so that S2I builds of
                              Syndesis images are picked up properly (implies --watch)
-w  --watch                   Wait until cluster is up
-i  --image-mode &lt;mode&gt;       Which templates to install: "docker" for plain images,
                              "openshift" for image streams (default: "openshift")
    --docker                  Shortcut for "--image-mode docker"
    --local                   install from local Git repo when using.
                              By default the resource descriptor is
                              downloaded from GitHub remotely.
-o  --open                    Open Syndesis in browser when installation is ready</code></pre>
</div>
</div>
<div class="paragraph">
<p>The deployment will always happen for the currently connected OpenShift cluster.
So it&#8217;s mandatory that you have logged into the cluster with <code>oc login</code> before.
You can check the status with <code>oc status</code>.</p>
</div>
<div class="paragraph">
<p>You have to provide the route name with <code>--route</code>.
This value depends on your OpenShift installation but typically is the name of your OpenShift project followed by the cluster&#8217;s hostname.
E.g. a route <code>--route app-proj186023.6a63.fuse-ignite.openshiftapps.com</code> is specific to the Fuse Ignite test cluster <code>6a63.fuse-ignite.openshiftapps.com</code> and for the project <code>app-proj186023</code>.</p>
</div>
<div class="paragraph">
<p>By default, this commands installs Syndesis in the currently connected project, but you can specify an alternative project with <code>--project &lt;project&gt;</code>.
If this project already exists, it gets deleted unconditionally before the deployment, so be careful when using this option.
By default you are asked whether you really want to delete the project for recreation.
You can switch off the security question with the option <code>--yes</code> (short: <code>-y</code>).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t use <code>syndesis install --project $(oc project -q) --yes</code>. You will shoot yourself into the foot. Ask the author if you want to know more details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to wait until everything is running (including fetching of the Docker images), you can specify <code>--watch</code> (short: <code>-w</code>) which blocks the script until everything is set up.</p>
</div>
<div class="paragraph">
<p>You can also automatically open Syndesis in the browser after the installation with <code>--open</code> (short: <code>-o</code>)</p>
</div>
</div>
<div class="sect3">
<h4 id="_development_mode">2.8.2. Development mode</h4>
<div class="paragraph">
<p>As with <a href="#syndesis-minishift">syndesis minishift</a> you can also use this command to set up a development platform for Syndesis.
<em>Development platform</em> here means, that you can create Docker images on your own with <a href="#syndesis-build">syndesis build</a> and can use them with an automatic redeployment after the build.</p>
</div>
<div class="paragraph">
<p>You can switch on this mode with the option <code>--dev</code>.
By default, the so-called <em>openshift</em> mode with image stream is used.
When the template is deployed, these imagestreams refer to Docker images pushed to Docker Hub.
To change the imagestream references to the images built with <code>syndesis build --images</code>, these imagestreams needs to be patched after the initial images have been fetched from Docker Hub.
If you use the <code>--dev</code> option then this update is done automatically.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can also use plain Docker image. If you use the <code>--docker</code> option (or <code>--image-mode docker</code>), then the Syndesis OpenShift templates that used Docker images directly is used.</p>
</div>
<div class="paragraph">
<p>See the section about the various <a href="#syndesis-build-image">image modes</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_selecting_the_version">2.8.3. Selecting the version</h4>
<div class="paragraph">
<p>With the option <code>--tag</code> you can select a specific version of Syndesis to install.
By default, the template as it exists currently in your checked out branch is used.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">syndesis install --route syndesis.192.168.64.12.nip.io --tag 1.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example will install the latest Syndesis version of the 1.2 branch to the local cluster.</p>
</div>
<div class="paragraph">
<p>You can see a list of available tags with <code>git tag</code>.
Tags prefixed with <code>fuse-ignite</code> are suited for the Fuse Online cluster as those templates do not contain images streams themselves but refer to the image streams installed on this cluster.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_2">2.8.4. Example</h4>
<div class="paragraph">
<p>Here is a full example how you can install Syndesis from scratch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># Clone Syndes repository to /tmp
cd /tmp
git clone --depth=1 https://github.com/syndesisio/syndesis.git    <i class="conum" data-value="1"></i><b>(1)</b>
cd syndesis

# List tags (optional)
git --depth=1 --tags fetch                                        <i class="conum" data-value="2"></i><b>(2)</b>
git tag

# Connect to the fuse-ignite cluster
oc login https://api.fuse-ignite.openshift.com --token=...        <i class="conum" data-value="3"></i><b>(3)</b>

# Check the project you want to install to
oc project                                                        <i class="conum" data-value="4"></i><b>(4)</b>

# Find out the route domain
oc route                                                          <i class="conum" data-value="5"></i><b>(5)</b>

# Install into the existing project (but recreate it before)
tools/bin/syndesis install \                                      <i class="conum" data-value="6"></i><b>(6)</b>
    --project $(oc project -q) \                                  <i class="conum" data-value="7"></i><b>(7)</b>
    --route $(oc project -q).6a63.fuse-ignite.openshiftapps.com \ <i class="conum" data-value="8"></i><b>(8)</b>
    --tag 1.2 \                                                   <i class="conum" data-value="9"></i><b>(9)</b>
    --watch</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Clone the Syndesis repository, without history (<code>--depth=1</code>).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Fetch tags before you can list them.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Login into the target cluster with the token that you find on the OpenShift console.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check the project. We will overwrite this in this example, so please be sure that you do not accidentally overwrite this project.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Find out the route domain. Either check the documentation of your cluster or, like here, examine already existing routes.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Run <code>syndesis</code> directly out of the cloned Git repository.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Specify the project as the current project.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Construct the route from the project name and the route domain.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Specify the head tag 1.2 which means the latest 1.2 version (== latest upstream TP3 version)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the last command is finished you will be able to access <code><a href="https://$(oc" class="bare">https://$(oc</a> project -q).6a63.fuse-ignite.openshiftapps.com</code> to access Syndesis version 1.2</p>
</div>
</div>
<div class="sect3">
<h4 id="_quick_installation">2.8.5. Quick installation</h4>
<div class="paragraph">
<p>If you only want to install Syndesis without developing for, there is even an easier without checking out Syndesis into a local Git repository.</p>
</div>
<div class="paragraph">
<p>You can directly use the standalone installation script <a href="https://raw.githubusercontent.com/syndesisio/syndesis/master/tools/bin/install-syndesis">syndesis-install</a> for installing Syndesis.
Just download this <a href="https://raw.githubusercontent.com/syndesisio/syndesis/master/tools/bin/install-syndesis">script</a>, save it as "syndesis-install" and then call it with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">bash install-syndesis --route $(oc project -q).6a63.fuse-ignite.openshiftapps.com --open</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, if you feel fancy (and trust us), then you can directly install the latest version of Syndesis by deleting and recreating the current project with a single line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">bash &lt;(curl -sL https://bit.ly/syndesis-install) -p $(oc project -q) -r $(oc project -q).6a63.fuse-ignite.openshiftapps.com -o</code></pre>
</div>
</div>
<div class="paragraph">
<p>All you need is to have <code>bash</code>, <code>curl</code> and <code>oc</code> installed and you need to be connected to an OpenShift cluster.</p>
</div>
<div class="paragraph">
<p>Use <code>install-syndesis --help</code> for a list of options (which is a subset of <code>syndesis install</code> described above)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="development">3. Syndesis Development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="dev-groups">3.1. Maven Groups</h3>
<div class="paragraph">
<p>Syndesis uses <a href="http://maven.apache.org/">Maven</a> as build tool.
Maven groups are used to separate the various Syndesis parts.</p>
</div>
<div class="paragraph">
<p>In details Syndesis consists of the following groups:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.5384%;">
<col style="width: 19.2307%;">
<col style="width: 30.7692%;">
<col style="width: 38.4617%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Group</th>
<th class="tableblock halign-left valign-top">Maven</th>
<th class="tableblock halign-left valign-top">Docker Image</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>common</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.common</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Syndesis shared common module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connector</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.connector</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supported camel connectors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.rest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>syndesis/syndesis-rest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST backend for managing integrations. This is the main sever.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>integration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.integration</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Library used in the the integration runtimes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>s2i</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.s2i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>syndesis/syndesis-s2i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S2I base image for building integrations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ui</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>syndesis/syndesis-ui</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User interface SPA, talking to the REST backend</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>meta</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.meta</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>syndesis/syndesis-verifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service for connector meta-data and verification of connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>extension</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.extension</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Library and API for developing Syndesis extensions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>test</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.syndesis.test</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System tests for testing the whole applications</p></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<img src="syndesis-groups.png" alt="syndesis groups" width="403" height="341">
</div>
<div class="title">Figure 1. Group dependencies</div>
</div>
<div class="sect3">
<h4 id="_naming_conventions">3.1.1. Naming Conventions</h4>
<div class="paragraph">
<p>The following conventions are used for naming directories, modules and Java packages.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
These conventions are mandatory and should be also checked for when doing pull request reviews.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Each directory directly below <code>app/</code> is specific for a certain Maven group.
E.g. the directory <code>app/extension</code> is reserved for all Maven modules belonging to the Maven group <code>io.syndesis.extension</code>.
The directory name is reflected as the last name part.</p>
</li>
<li>
<p>All names (groups, modules, package) are using the <strong>singular</strong> form.
E.g. its a <code>io.syndesis.connector</code>, <em>not</em> <code>io.syndesis.connectors</code>.</p>
</li>
<li>
<p>Each Maven module is prefixed with the last part of the group name.
E.g. the directory <code>app/integration/api</code> holds a Maven module for the the Maven group <code>io.syndesis.integration</code>, and the module&#8217;s artefactId is <code>integration-api</code>.</p>
</li>
<li>
<p>A module&#8217;s directory name is directly reflected as the last part of the Maven module name.
If the Maven module name consists of multiple parts (e.g. artifact <code>integration-project-generator</code>), then the corresponding directory is also a concatenated word (like in <code>integration/project-generator</code>).
Multipart names should be the exception, though.</p>
</li>
<li>
<p>There should be only one level deep modules, so each Maven group directory holds all Maven modules flat.</p>
</li>
<li>
<p>Each module has a <strong>single</strong> top-level package, reflecting the Maven module name.
E.g. for the Maven module <code>common-util</code> in group <code>io.syndesis.common</code> has a single top-level package <code>io.syndesis.common.util</code>
This top-level package should reflect the artefact name, with dashes replaced by dots.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Not every module has been already transformed to this scheme.
This will happen step-by-step.
But for new groups and modules this scheme has to be followed.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dev-labels">3.2. Issue Labels</h3>
<div class="paragraph">
<p>We use GitHub labels to categorize epics, issues and tasks.
They are the foundation of our process, so please use labels for issues.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Labels are living entities. This document describes the current status and might be slightly outdated. Please send a PR to adopt this section if the label structure changes. Also feel free to discuss the label structure anytime. It&#8217;s essential that labels describe our process, not that we have to adapt our process for these labels.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Labels are grouped.
Each label consists of two part:
A <strong>Group</strong> and a <strong>Name</strong> which are separated by a slash (<code>/</code>).
For example, the label <code>module/ui</code> is used to mark issue which is relevant to the Syndesis UI module.</p>
</div>
<div class="paragraph">
<p>The following label groups are available.
There must be only at most one label from the "Exclusive" groups.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15.7894%;">
<col style="width: 78.9473%;">
<col style="width: 5.2633%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Group</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Excl.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cat/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Misc categories which are can be added freely</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>prio/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Priority of the issue. Only one <code>prio/</code> label must be added per issue. <code>prio/p0</code> is of highest priority, <code>prio/p4</code> the lowest one.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ext/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference to external projects</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>d/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Day labels for tagging an Epic to talk about at specific day in the daily meeting</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>group/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Syndesis modules</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>notif/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notification label which can be added and removed to ping certain subteams</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>size/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tee shirt size for issues. Sizing is a subjective assessment and should be done relative to other issues.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>status/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status of an issue or PR.</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>target/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target milestone for an Epic. These are the Technical Preview (TP) targets and GA.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Each label group serves a particular purpose, and for each issue and PR, it should be considered whether a label from a group applies.</p>
</div>
<div class="sect3">
<h4 id="_groups">3.2.1. Groups</h4>
<div class="paragraph">
<p>Labels from this group reference our application groups like "rest", "ui" or "connector".
Each sub-team is responsible for one or more group, and every group has an 'owning' team.
That does not mean that members of other teams are not allowed to work on such groups.
Contrary, this is even encouraged.
But its just there so that teams can filter on issues and PRs which are relevant to them.</p>
</div>
<div class="paragraph">
<p>An issue can carry many group labels.
Especially Epics will carry more than such label as they touch more than one group (otherwise it wouldn&#8217;t be an epic).</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Group</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #b39d9e;"><p class="tableblock"><strong>group/connector</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supported camel connectors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ab947d;"><p class="tableblock"><strong>group/deploy</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #2e9288;"><p class="tableblock"><strong class="white">group/rest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST backend for managing integrations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #657c9a;"><p class="tableblock"><strong class="white">group/integration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Library used in the the integration runtimes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #2b313c;"><p class="tableblock"><strong class="white">group/s2i</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S2I base image for building integrations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #91ac83;"><p class="tableblock"><strong>group/test</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System tests for testing the whole applications</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #dce6f0;"><p class="tableblock"><strong>group/ui</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User interface SPA, talking to the REST backend</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #fdc5d8;"><p class="tableblock"><strong>group/uxd</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User experience (UX) designs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #c6d74b;"><p class="tableblock"><strong>group/meta</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service for connector meta-data and verification of connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #03ba7a;"><p class="tableblock"><strong>group/extension</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tools for developing Syndesis extensions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d63f0c;"><p class="tableblock"><strong>group/common</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Syndesis shared common module</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_categories">3.2.2. Categories</h4>
<div class="paragraph">
<p>Labels from the <code>cat/</code> group are labels which can always be applied and which does not fit in another category.
Currently we have these categories:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Category</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #e08891;"><p class="tableblock"><strong>cat/bug</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bug which needs fixing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #dd6977;"><p class="tableblock"><strong>cat/blocker</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A blocker, which is a bug which needs to be fixed as soon as possible.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #93d273;"><p class="tableblock"><strong>cat/enhancement</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PR label for an enhancement of an existing feature.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #bdd9f4;"><p class="tableblock"><strong>cat/feature</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PR label for a new feature</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #1d4367;"><p class="tableblock"><strong class="white">cat/discussion</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This issues requires a discussion.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #8bd5e3;"><p class="tableblock"><strong>cat/question</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For issues holding a question.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #fef2c0;"><p class="tableblock"><strong>cat/build</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For issues which have relevance for the build system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #cebdf8;"><p class="tableblock"><strong>cat/design</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A concrete UX design. Use this for PRs containing UX designs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #999D99;"><p class="tableblock"><strong>cat/process</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development process related issues carry this label.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #e9d355;"><p class="tableblock"><strong>cat/research</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label used for issues which describe some research work</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #84c68f;"><p class="tableblock"><strong>cat/retro</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for action items which are the result of a retrospective.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #e2704f;"><p class="tableblock"><strong>cat/starter</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An issue which is easy to solve and can be used for ramping up new developers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #e7aeb6;"><p class="tableblock"><strong>cat/techdebt</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for issues identifying technical debt.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #A69F36;"><p class="tableblock"><strong>cat/techdoc</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical developer information (likes this handbook ;-) related issues.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #fcc7f5;"><p class="tableblock"><strong>cat/tooling</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues used for tooling around the development process (note: could be merged with "build")</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_notification">3.2.3. Notification</h4>
<div class="paragraph">
<p>Notification labels from the <code>notif/</code> group serve a particular purpose.
They are used when one team wants to notify another group that a specific issue might have them relevance to them.</p>
</div>
<div class="paragraph">
<p>Currently we have two notifcation labels:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Notification</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #98cc38;"><p class="tableblock"><strong>notif/doc</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The issue needs some attention from the docs team. This might because a new feature has been introduced or, more important, an existing feature has changed for which a documentation already exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f382d0;"><p class="tableblock"><strong>notif/uxd</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This label should be used for issues which needs some attention from the UX team. This might because a new feature has been introduced or, more important, an existing feature has changed for which a UX design already exists.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is important to note that these labels also be removed when the notification has been received.</p>
</div>
<div class="paragraph">
<p>For example, when a UI feature like an input form changes.
Then the UI team attaches a <code>notif/uxd</code> label to the PR which introduces this change.
The UX team, detects with a filter search on this label, that there is a new notification.
It then decides, whether UX design needs to be updated or not.
In any case, they are removing the <code>notif/uxd</code> label and add a <code>module/uxd</code> label if this PR indeed requires a UX design update.
If no update is required, then the label is removed without replacement.</p>
</div>
</div>
<div class="sect3">
<h4 id="_external_references">3.2.4. External references</h4>
<div class="paragraph">
<p>This label group should be used if an external system is referenced, which is not part of the Syndesis mono repo.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">External Project</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #edb080;"><p class="tableblock"><strong>ext/atlasmap</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/atlasmap/atlasmap">atlasmap</a> data mapper</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #c56b37;"><p class="tableblock"><strong class="white">ext/camel</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://camel.apache.org">Camel</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #91ac83;"><p class="tableblock"><strong>ext/qe</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/syndesisio/syndesis-qe">syndesis-qe</a> suite</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f9d647;"><p class="tableblock"><strong>ext/docs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/syndesisio/syndesis-documentation">syndesis-documentation</a> End user documentation</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For the future, we plan to add more of these external repos into the Syndesis mono repo (like documentation or QE).
If this happens, then labels should be converted to <code>module/</code> kind of labels.</p>
</div>
</div>
<div class="sect3">
<h4 id="_daily_meeting_labels">3.2.5. Daily Meeting Labels</h4>
<div class="paragraph">
<p>This category holds five labels: <a id="f00"></a><code>d/mon</code>, <code>d/tue</code>, <code>d/wed</code>, <code>d/thu</code>, <code>d/fri</code>, one for each working day.
They are used to mark an Epic so that it is talked about the daily meeting on that day.
The reason for this selection is, that we want to keep the daily meetings still for 15 mins but don&#8217;t yet want to split up.
More than one of such label can and actually should be added to one Epic.
At least two-day labels must be added to an epic.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Daily Meeting</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #644288;"><p class="tableblock"><strong class="white">d/mon</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #644288;"><p class="tableblock"><strong class="white">d/tue</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tuesday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #644288;"><p class="tableblock"><strong class="white">d/wed</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wednesday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #644288;"><p class="tableblock"><strong class="white">d/thu</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thursday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #644288;"><p class="tableblock"><strong class="white">d/fri</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Friday</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_status">3.2.6. Status</h4>
<div class="paragraph">
<p>Status labels are unique since they may trigger some automatic actions.</p>
</div>
<div class="paragraph">
<p>The current status labels are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ad0009;"><p class="tableblock"><strong class="white">status/blocked</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current issue is blocked by another issue. Refer to the issue itself to see what is blocking this issued. This label is purely informal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #0ffa16;"><p class="tableblock"><strong>approved</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This label will be automatically applied to a PR as soon as the PR has been approved at the end of a review. It is an indicator for our PR bot to automatically merge the pull request if it passes all required tests. (Note: Should probably be renamed to <code>status/approved</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f5c73f;"><p class="tableblock"><strong>status/wip</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is a PR request label which should be used for "Work-in-Progress" kind of PRs which has been submitted for early review. If this label is present on a PR, the PR is not merged, even when it is "Approved"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #fdfcb6;"><p class="tableblock"><strong>status/2s2f</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use this label to mark issues which should be self-merged without requiring a PR review, because of its "too small to fail". Be very careful with this label, and remember a review is a service to you to help in your code quality. It is alone your responsibility when you chose this label. It&#8217;s useful for minor doc updates or one line where you are 100% sure that it doesn&#8217;t break the system. Please use it sparingly and responsibly. (<em>Need still to be implemented</em>)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="dev-local">3.3. Local Development</h3>
<div class="paragraph">
<p>If you&#8217;d like to get a local development environment up and running, for both the UI and REST API, this is how you&#8217;d do it.</p>
</div>
<div class="paragraph">
<p><strong>Tips</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Build on branch, not master.</p>
</li>
<li>
<p>Callback URL Example: <a href="https://syndesis.192.168.64.29.nip.io/api/v1/credentials/callback" class="bare">https://syndesis.192.168.64.29.nip.io/api/v1/credentials/callback</a></p>
</li>
</ul>
</div>
<hr>
<div class="sect3">
<h4 id="_requirements">3.3.1. Requirements</h4>
<div class="paragraph">
<p>You can follow these steps if it&#8217;s your first time setting up Syndesis, or if you want a fresh local installation to replace an existing one. Some environment-specific instructions may be available below as well.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure you have installed <a href="https://nodejs.org/en/download/">node</a> version &gt;= 6.x.x and <a href="https://yarnpkg.com/en/docs/install">Yarn</a> version &gt;= 0.18.1.</p>
</li>
<li>
<p>Get a developer deployment of Syndesis running in a Minishift environment as described in the <a href="https://syndesis.io/quickstart/">Syndesis Quickstart</a>.  Most are specific to your environment, so follow the sections below for a quick setup. The general instructions are:</p>
<div class="ulist">
<ul>
<li>
<p>Install a hypervisor for Minishift.</p>
</li>
<li>
<p>Install Minishift.</p>
</li>
<li>
<p>Install the OpenShift CLI.</p>
</li>
<li>
<p>Make sure it&#8217;s in your <code>$PATH</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>macOS</strong></p>
</div>
<div class="paragraph">
<p>If you&#8217;ll be using the Homebrew method, you&#8217;ll obviously need to have Homebrew installed. Then, to install the hypervisor for Minishift and Minishift itself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ brew install docker-machine-driver-xhyve
$ brew cask install minishift</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, to install the OpenShift CLI, we recommend using Homebrew: <code>brew install openshift-cli</code></p>
</div>
<div class="paragraph">
<p><strong>Linux &amp; Windows</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.openshift.org/latest/minishift/getting-started/installing.html#install-prerequisites">Install a hypervisor for Minishift</a>. For macOS, we recommend using the Docker xhyve plugin <a href="https://docs.openshift.org/latest/minishift/getting-started/setting-up-driver-plugin.html#xhyve-driver-install">here</a>, which can be installed using Homebrew.</p>
</li>
<li>
<p><a href="https://docs.openshift.org/latest/minishift/getting-started/installing.html#installing-instructions">Install Minishift</a>. For macOS, we recommend you use the Homebrew method.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please note that you need to have the <code>oc</code> binary available in your <code>PATH</code>. To do that, see here: <a href="https://docs.openshift.org/latest/cli_reference/get_started_cli.html" class="bare">https://docs.openshift.org/latest/cli_reference/get_started_cli.html</a></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_first_time_setup">3.3.2. First-Time Setup</h4>
<div class="paragraph">
<p>The goal here is to download the project to your laptop/PC, and to install Minishift, the VM that contains OpenShift.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ git pull https://github.com/syndesisio/syndesis.git # or own fork
$ cd syndesis
$ syndesis minishift --full-reset</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_day_to_day">3.3.3. Day-to-Day</h4>
<div class="paragraph">
<p>This uses an existing Minishift instance.</p>
</div>
<div class="paragraph">
<p><strong>NOTE:</strong> If you already followed the First-Time Setup above, you do not need to follow this. The Minishift VM will already have been started. Simply skip to the</p>
</div>
<div class="paragraph">
<p><strong>Get the Latest Changes</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ git checkout master
$ git pull upstream master
$ git checkout &lt;branch&gt;
$ git rebase master</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Start of the Day</strong>
Make sure Minishift is running.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ minishift status</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which should look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Minishift:  Running
Profile:    minishift
OpenShift:  Running (openshift v3.6.0+c4dd4cf)
DiskUsage:  11% of 17.9G</code></pre>
</div>
</div>
<div class="paragraph">
<p>If it isn&#8217;t, start it with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ minishift start</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Login into and Set up OpenShift</strong></p>
</div>
<div class="paragraph">
<p>This step is required regardless of whether it&#8217;s a first-time install or not. It logs you in and points OpenShift to use Minishift resources.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ oc login -u developer
$ eval $(minishift oc-env)
$ eval $(minishift docker-env)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The eval&#8217;s set a number of environment variables, like change the <code>$PATH</code> and <code>$DOCKER_HOST</code>, so each time you do a Syndesis build it&#8217;s good to make sure those are invoked.</p>
</div>
<div class="paragraph">
<p><strong>End of the Day</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ minishift stop</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Start the UI App &amp; Open in the Browser</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ yarn start:minishift
$ open https://$(oc get routes syndesis --template "{{.spec.host}}")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Resetting the Database</strong></p>
</div>
<div class="paragraph">
<p>This step is optional. This command expects Minishift to be running already. It&#8217;s the <code>-i docker</code> that determines the workflow, for Roland it seems to work without that though.</p>
</div>
<div class="paragraph">
<p>It would clean the database if we increase the schema version, if we don&#8217;t it remains the same.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ syndesis build -m rest -f -i docker -k</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can use the REST API Endpoint: /api/v1/test-support/reset-db</p>
</div>
<div class="paragraph">
<p><strong>Connecting to the Database</strong></p>
</div>
<div class="paragraph">
<p>You can also port forward the DB&#8217;s port using <code>oc port-forward</code> and then connect to the database using a tool like <a href="https://www.pgadmin.org/download/">pgadmin</a> to view the data.  First get the DB pod&#8217;s name either from <code>oc get pods</code> or from the OpenShift console.  Then use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ oc port-forward &lt;db pod name&gt; 5432:5432</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now start pgadmin and add a new DB server, use <code>localhost</code> for the <code>host</code> setting.  For the username and password look on the DB pod&#8217;s <code>Environment</code> page in the OpenShift console.</p>
</div>
<div class="paragraph">
<p>In pgadmin you can see the table by navigating into the tree under <code>Server Groups &gt; Servers &gt; syndesis &gt; Databases &gt; syndesis &gt; Schemas &gt; public &gt; Tables &gt; jsondb</code>.  Right click, and then go to <code>View Data &gt; View All Rows</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dev-ui">3.4. UI</h3>
<div class="paragraph">
<p>After you&#8217;ve set up your initial Local Development environment, you&#8217;re ready to contribute to the UI.</p>
</div>
<div class="sect3">
<h4 id="_install_dependencies">3.4.1. Install Dependencies</h4>
<div class="paragraph">
<p>From the project root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ cd app/ui
$ yarn install</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_start_up_the_app">3.4.2. Start up the App</h4>
<div class="paragraph">
<p><strong>Using Minishift resources (recommended):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ yarn start:minishift</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>yarn start:minishift</code> command works when it can properly detect your local development machine&#8217;s IP address.  A proxy server inside the minishift deployment will use that IP address to connect back to the development server being run by the yarn command.  If detection of the IP is failing for you, then set the <code>SYNDESIS_DEV_LOCAL_IP</code> env variable to your local machine&#8217;s IP address before running the yarn <code>yarn start:minishift</code> command.</p>
</div>
</div>
<div class="sect3">
<h4 id="_open_in_your_browser">3.4.3. Open in Your Browser</h4>
<div class="paragraph">
<p>Open the Syndesis UI in your browser from the command line by running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># on macOS
$ open https://$(oc get routes syndesis --template &quot;{{.spec.host}}&quot;)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># on linux
$ xdg-open https://$(oc get routes syndesis --template &quot;{{.spec.host}}&quot;)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># on windows
$ start https://$(oc get routes syndesis --template &quot;{{.spec.host}}&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another option is to run <code>minishift console</code>, go into <strong>My Project</strong> and click on the URL for the Syndesis app.</p>
</div>
<div class="paragraph">
<p>To verify that you&#8217;re running against the development instance of the UI check the title of the browser tab you&#8217;ve opened and ensure it says <code>DEVELOPMENT</code> in in somewhere.</p>
</div>
<div class="paragraph">
<p><strong>Not using Minishift resources</strong>
In the event that you have issues with Minishift. Don&#8217;t be surprised if most things don&#8217;t load and there isn&#8217;t any data in the UI. Only use this if you&#8217;re totally blocked and need to work on something minor/aesthetic in the UI.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ yarn start</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_running_tests">3.4.4. Running Tests</h4>
<div class="paragraph">
<p>To run tests or lint there are two more commands you can run in separate terminals.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ yarn test</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_running_linter">3.4.5. Running Linter</h4>
<div class="paragraph">
<p>If you don&#8217;t, the CI will, and your PR build will likely fail.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ yarn lint</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should be able to access the UI in your browser at <a href="http://localhost:4200" class="bare">http://localhost:4200</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_code_documentation">3.4.6. Code Documentation</h4>
<div class="paragraph">
<p>We use <a href="https://compodoc.github.io/website/">Compodoc</a> for documentation, or <a href="https://compodoc.github.io/website/guides/comments.html">here</a> to see how to format comments. Files get generated automatically in the <code>/documentation</code> directory. Read the documentation [here](<a href="https://compodoc.github.io/website/guides/getting-started.html" class="bare">https://compodoc.github.io/website/guides/getting-started.html</a>) to see how to properly document features. You can automatically generate and run docs using Yarn:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ yarn compodoc</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or manually with <code>compodoc -s</code>, or <code>compodoc</code> if you want it to simply generate the files in the default <code>/documentation</code> directory and run it with an HTTP server.</p>
</div>
</div>
<div class="sect3">
<h4 id="_technology_stack">3.4.7. Technology Stack</h4>
<div class="paragraph">
<p>Included in this stack are the following technologies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Language: <a href="http://www.typescriptlang.org">TypeScript</a> (JavaScript with @Types)</p>
</li>
<li>
<p>Framework: <a href="https://angular.io/">Angular</a></p>
</li>
<li>
<p>Testing: <a href="https://cucumber.io/">Cucumber.js</a> (BDD Unit Test Framework), <a href="https://karma-runner.github.io/1.0/index.html">Karma</a> (Unit Test Runner), <a href="https://github.com/gotwarlost/istanbul">Istanbul</a> (Code Coverage)</p>
</li>
<li>
<p>Linting: <a href="https://github.com/palantir/tslint">TsLint</a> (Linting for TypeScript)</p>
</li>
<li>
<p>Logging: WIP</p>
</li>
<li>
<p>Code Analysis: <a href="https://github.com/mgechev/codelyzer">Codelyzer</a> (TsLint rules for static code analysis of Angular TypeScript projects) / WIP</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dev-troubleshooting">3.5. Troubleshooting</h3>
<div class="paragraph">
<p>When things go wrong, you want to try to identify the area that is causing problems (UI, REST API, etc). If it&#8217;s the UI, look for errors in the browser console or the terminal to see if it&#8217;s a dependency issue.</p>
</div>
<div class="sect3">
<h4 id="_ui_dependency_issues">3.5.1. UI Dependency Issues</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ rm -rf node_modules
$ yarn install</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_vm_trouble">3.5.2. VM Trouble</h4>
<div class="paragraph">
<p><strong>Not getting latest API changes</strong></p>
</div>
<div class="paragraph">
<p>This is a known issue. This is the workaround for using the latest REST image from the Docker stream.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: This deletes your Minishift instance, installs OpenShift templates for the pods, and restarts Minishift.</p>
</div>
<div class="paragraph">
<p>Disclaimer: It&#8217;s not 100% clear what <code>-i</code> docker for <code>Syndesis Minishift --install</code> does exactly, but there is no way to invoke those evals before you get a running VM, which is what <code>--full-reset</code> does. So as a rule of thumb, you can have a terminal with those evals and keep it open and do all of the Syndesis building from there.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ syndesis minishift --full-reset --install -p syndesis -i docker</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>syndesis command not found</strong>
If you get <code>'syndesis' command not found</code> then use the full path to the <code>syndesis</code> binary instead. This assumes you are in the root of the project directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ ./tools/bin/syndesis minishift --full-reset --install -p syndesis -i docker</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>If OpenShift templates have been updated</strong>
This should not be the first choice, since it changes the IP of the VM, and in general should not be necessary for just building and updating the version.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ syndesis minishift --full-reset --install</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>VM Trouble</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ syndesis build</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other things you can try:
- <code>rm -rf ~/.minishift</code>
- Check the OpenShift console and look for logs.
- Is it a xip or nip problem? <a href="http://downoruprightnow.com/status/nip.io" class="bare">http://downoruprightnow.com/status/nip.io</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_still_having_trouble">3.5.3. Still Having Trouble?</h4>
<div class="paragraph">
<p>Ask on IRC #syndesis</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.1.3-5677-g82dac7222<br>
Last updated 2018-03-02 14:40:11 UTC
</div>
</div>
</body>
</html>